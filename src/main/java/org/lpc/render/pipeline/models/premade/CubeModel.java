package org.lpc.render.pipeline.models.premade;

import lombok.Getter;
import org.joml.Vector3f;
import org.lpc.render.pipeline.ModelLoader;
import org.lpc.render.pipeline.models.FullModel;
import org.lpc.render.pipeline.models.RawModel;
import org.lpc.render.pipeline.models.TexturedModel;
import org.lpc.render.pipeline.textures.Texture;

@Getter
public class CubeModel {
    FullModel model;

    private final float[] vertices = {
            -0.5f,0.5f,-0.5f,
            -0.5f,-0.5f,-0.5f,
            0.5f,-0.5f,-0.5f,
            0.5f,0.5f,-0.5f,

            -0.5f,0.5f,0.5f,
            -0.5f,-0.5f,0.5f,
            0.5f,-0.5f,0.5f,
            0.5f,0.5f,0.5f,

            0.5f,0.5f,-0.5f,
            0.5f,-0.5f,-0.5f,
            0.5f,-0.5f,0.5f,
            0.5f,0.5f,0.5f,

            -0.5f,0.5f,-0.5f,
            -0.5f,-0.5f,-0.5f,
            -0.5f,-0.5f,0.5f,
            -0.5f,0.5f,0.5f,

            -0.5f,0.5f,0.5f,
            -0.5f,0.5f,-0.5f,
            0.5f,0.5f,-0.5f,
            0.5f,0.5f,0.5f,

            -0.5f,-0.5f,0.5f,
            -0.5f,-0.5f,-0.5f,
            0.5f,-0.5f,-0.5f,
            0.5f,-0.5f,0.5f

    };

    private final float[] textureCoords = {
            0,0,
            0,1,
            1,1,
            1,0,
            0,0,
            0,1,
            1,1,
            1,0,
            0,0,
            0,1,
            1,1,
            1,0,
            0,0,
            0,1,
            1,1,
            1,0,
            0,0,
            0,1,
            1,1,
            1,0,
            0,0,
            0,1,
            1,1,
            1,0
    };

    private final int[] indices = {
            0,1,3,
            3,1,2,
            4,5,7,
            7,5,6,
            8,9,11,
            11,9,10,
            12,13,15,
            15,13,14,
            16,17,19,
            19,17,18,
            20,21,23,
            23,21,22
    };

    static RawModel m1;

    public CubeModel(int x, int y, int z, float scale, Texture texture) {
        ModelLoader modelLoader = new ModelLoader();

        if(m1 == null)
            m1 = modelLoader.loadToVAO(vertices, indices, textureCoords);

        TexturedModel m2 = new TexturedModel(m1, texture);
        model = new FullModel(m2, new Vector3f(x, y, z), 0, 0, 0, scale);
    }
}
